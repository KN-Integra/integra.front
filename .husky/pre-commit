#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling your project before committing'

# Check Prettier and ESLint standards
yarn lint ||
(
  echo 'âŒ Linting Check Failed! âŒ
    Run `yarn lintfix`, add changes and try commit again.';
  false;
)

echo 'ğŸ—ï¸ğŸ‘· Building your project before committing'

# Build project
yarn build ||
(
  echo 'âŒ Build Failed! âŒ 
    Run `yarn build` and try commit again.'
  false; 
)

echo 'ğŸ—ï¸ğŸ‘· Testing your project before committing'
yarn test --passWithNoTests ||
(
  echo 'âŒ Testing Failed! âŒ 
    Run `yarn test` and try commit again.'
  false; 
)


# If everything passes... Now we can commit
echo 'âœ… Everything looks good. Creating commit... âœ…'
